/*! formbouncerjs v1.4.5 | (c) 2020 Chris Ferdinandi | MIT License | http://github.com/cferdinandi/bouncer */
!(function(e,t){"function"==typeof define&&define.amd?define([],(function(){return t(e)})):"object"==typeof exports?module.exports=t(e):e.Bouncer=t(e)})("undefined"!=typeof global?global:"undefined"!=typeof window?window:this,(function(a){"use strict";function l(e,t){Array.prototype.forEach.call(e,t)}function c(e,t,r){if("function"==typeof a.CustomEvent){var n=new CustomEvent(t,{bubbles:!0,detail:r||{}});e.dispatchEvent(n)}}function r(e,t){return{missingValue:(function(e){if(!e.hasAttribute("required"))return!1;if("checkbox"===e.type)return!e.checked;var t=e.value.length;return"radio"===e.type&&(t=Array.prototype.filter.call(e.form.querySelectorAll('[name="'+p(e.name)+'"]'),(function(e){return e.checked})).length),t<1})(e),patternMismatch:(n=t,!(!(a=(a=(r=e).getAttribute("pattern"))?new RegExp("^(?:"+a+")$"):n.patterns[r.type])||!r.value||r.value.length<1||r.value.match(a))),outOfRange:(function(e){if(!e.value||e.value.length<1)return!1;var t=e.getAttribute("max"),r=e.getAttribute("min"),n=parseFloat(e.value);return t&&t<n?"over":!!(r&&n<r)&&"under"})(e),wrongLength:(function(e){if(!e.value||e.value.length<1)return!1;var t=e.getAttribute("maxlength"),r=e.getAttribute("minlength"),n=e.value.length;return t&&t<n?"over":!!(r&&n<r)&&"under"})(e)};var r,n,a}function s(e,t){return (function(e,t,r,n){var a=[];for(var i in r)if(r.hasOwnProperty(i)){var o=r[i](e,n).then((function(e){t[i]=e}));a.push(o)}return Promise.all(a).then((function(){return t}))})(e,r(e,t),t.customValidations,t).then((function(e){return{valid:!(function(e){for(var t in e)if(e[t])return!0;return!1})(e),errors:e}}))}function f(e,t,r){var n=e.name?e.name:e.id;return!n&&r&&(n=t.fieldPrefix+Math.floor(999*Math.random()),e.id=n),"checkbox"===e.type&&(n+="_"+(e.value||e.id)),n}function d(e,t){var r=document.createElement("div");r.className=t.errorClass,r.id=t.errorPrefix+f(e,t,!0);var n=(function(e,t,r){var n=e.getAttribute(r.messageTarget);if(n){var a=e.form.querySelector(n);if(a)return a.firstChild||a.appendChild(document.createTextNode(""))}return r.messageAfterField?(t.nextSibling||t.parentNode.appendChild(document.createTextNode("")),t.nextSibling):t})(e,(function(e){if("radio"===e.type&&e.name){var t=e.form.querySelectorAll('[name="'+p(e.name)+'"]');e=t[t.length-1]}"radio"!==e.type&&"checkbox"!==e.type||(e=e.closest("label")||e.form.querySelector('[for="'+e.id+'"]')||e);return e})(e),t);return n.parentNode.insertBefore(r,n),r}function m(e,t,r){e.classList.add(r.fieldClass),e.setAttribute("aria-describedby",t.id),e.setAttribute("aria-invalid",!0)}function x(e,t,r){var n,a,i,o=e.form.querySelector("#"+p(r.errorPrefix+f(e,r)))||d(e,r),u=(function(e,t,r){var n=r.messages;if(t.missingValue)return n.missingValue[e.type]||n.missingValue.default;if(t.outOfRange)return n.outOfRange[t.outOfRange].replace("{max}",e.getAttribute("max")).replace("{min}",e.getAttribute("min")).replace("{length}",e.value.length);if(t.wrongLength)return n.wrongLength[t.wrongLength].replace("{maxLength}",e.getAttribute("maxlength")).replace("{minLength}",e.getAttribute("minlength")).replace("{length}",e.value.length);if(t.patternMismatch){var a=e.getAttribute(r.messageCustom);return a?a:n.patternMismatch[e.type]||n.patternMismatch.default}for(var i in r.customValidations)if(r.customValidations.hasOwnProperty(i)&&t[i]&&n[i])return n[i];return n.fallback})(e,t,r);o.textContent="function"==typeof u?u(e,r):u,a=o,i=r,"radio"===(n=e).type&&n.name&&Array.prototype.forEach.call(document.querySelectorAll('[name="'+n.name+'"]'),(function(e){m(e,a,i)})),m(n,a,i),r.emitEvents&&c(e,"bouncerShowError",{errors:t})}function i(e,t){e.classList.remove(t.fieldClass),e.removeAttribute("aria-describedby"),e.removeAttribute("aria-invalid")}function h(e,t){var r,n,a=e.form.querySelector("#"+p(t.errorPrefix+f(e,t)));a&&(a.parentNode.removeChild(a),n=t,"radio"===(r=e).type&&r.name?Array.prototype.forEach.call(document.querySelectorAll('[name="'+r.name+'"]'),(function(e){i(e,n)})):i(r,n),t.emitEvents&&c(e,"bouncerRemoveError"))}var v={fieldClass:"error",errorClass:"error-message",fieldPrefix:"bouncer-field_",errorPrefix:"bouncer-error_",patterns:{email:/^([^\x00-\x20\x22\x28\x29\x2c\x2e\x3a-\x3c\x3e\x40\x5b-\x5d\x7f-\xff]+|\x22([^\x0d\x22\x5c\x80-\xff]|\x5c[\x00-\x7f])*\x22)(\x2e([^\x00-\x20\x22\x28\x29\x2c\x2e\x3a-\x3c\x3e\x40\x5b-\x5d\x7f-\xff]+|\x22([^\x0d\x22\x5c\x80-\xff]|\x5c[\x00-\x7f])*\x22))*\x40([^\x00-\x20\x22\x28\x29\x2c\x2e\x3a-\x3c\x3e\x40\x5b-\x5d\x7f-\xff]+|\x5b([^\x0d\x5b-\x5d\x80-\xff]|\x5c[\x00-\x7f])*\x5d)(\x2e([^\x00-\x20\x22\x28\x29\x2c\x2e\x3a-\x3c\x3e\x40\x5b-\x5d\x7f-\xff]+|\x5b([^\x0d\x5b-\x5d\x80-\xff]|\x5c[\x00-\x7f])*\x5d))*(\.\w{2,})+$/,url:/^(?:(?:https?|HTTPS?|ftp|FTP):\/\/)(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-zA-Z\u00a1-\uffff0-9]-*)*[a-zA-Z\u00a1-\uffff0-9]+)(?:\.(?:[a-zA-Z\u00a1-\uffff0-9]-*)*[a-zA-Z\u00a1-\uffff0-9]+)*(?:\.(?:[a-zA-Z\u00a1-\uffff]{2,}))\.?)(?::\d{2,5})?(?:[/?#]\S*)?$/,number:/^(?:[-+]?[0-9]*[.,]?[0-9]+)$/,color:/^#?([a-fA-F0-9]{6}|[a-fA-F0-9]{3})$/,date:/(?:19|20)[0-9]{2}-(?:(?:0[1-9]|1[0-2])-(?:0[1-9]|1[0-9]|2[0-9])|(?:(?!02)(?:0[1-9]|1[0-2])-(?:30))|(?:(?:0[13578]|1[02])-31))/,time:/^(?:(0[0-9]|1[0-9]|2[0-3])(:[0-5][0-9]))$/,month:/^(?:(?:19|20)[0-9]{2}-(?:(?:0[1-9]|1[0-2])))$/},customValidations:{},messageAfterField:!0,messageCustom:"data-bouncer-message",messageTarget:"data-bouncer-target",messages:{missingValue:{checkbox:"This field is required.",radio:"Please select a value.",select:"Please select a value.","select-multiple":"Please select at least one value.",default:"Please fill out this field."},patternMismatch:{email:"Please enter a valid email address.",url:"Please enter a URL.",number:"Please enter a number",color:"Please match the following format: #rrggbb",date:"Please use the YYYY-MM-DD format",time:"Please use the 24-hour time format. Ex. 23:00",month:"Please use the YYYY-MM format",default:"Please match the requested format."},outOfRange:{over:"Please select a value that is no more than {max}.",under:"Please select a value that is no less than {min}."},wrongLength:{over:"Please shorten this text to no more than {maxLength} characters. You are currently using {length} characters.",under:"Please lengthen this text to {minLength} characters or more. You are currently using {length} characters."},fallback:"There was an error with this field."},disableSubmit:!1,emitEvents:!0},g=function(){var r={};return l(arguments,(function(e){for(var t in e){if(!e.hasOwnProperty(t))return;"[object Object]"===Object.prototype.toString.call(e[t])?r[t]=g(r[t],e[t]):r[t]=e[t]}})),r},p=function(e){for(var t,r=String(e),n=r.length,a=-1,i="",o=r.charCodeAt(0);++a<n;){if(0===(t=r.charCodeAt(a)))throw new InvalidCharacterError("Invalid character: the input contains U+0000.");1<=t&&t<=31||127==t||0===a&&48<=t&&t<=57||1===a&&48<=t&&t<=57&&45===o?i+="\\"+t.toString(16)+" ":i+=128<=t||45===t||95===t||48<=t&&t<=57||65<=t&&t<=90||97<=t&&t<=122?r.charAt(a):"\\"+r.charAt(a)}return i};return function(n,e){var a,r={};r.validate=function(t,e){if(t.disabled||t.readOnly||"reset"===t.type||"submit"===t.type||"button"===t.type)return Promise.resolve();var r=g(a,e||{});return s(t,r).then((function(e){if(!e.valid)return x(t,e.errors,r),e;h(t,r)}))},r.validateAll=function(e){var t=Array.prototype.map.call(e.querySelectorAll("input, select, textarea"),(function(t){return r.validate(t).then((function(e){return e&&!e.valid?t:null}))}));return Promise.all(t).then((function(e){return e.filter(Boolean)}))},r.isValid=function(e){var t=Array.prototype.map.call(e.querySelectorAll("input, select, textarea"),(function(t){return r.isFieldValid(t).then((function(e){return e&&!e.valid?t:null}))}));return Promise.all(t).then((function(e){return e.filter(Boolean)}))},r.isFieldValid=function(e,t){if(e.disabled||e.readOnly||"reset"===e.type||"submit"===e.type||"button"===e.type)return Promise.resolve();var r=g(a,t||{});return s(e,r).then((function(e){return e}))};function i(e){e.target.form&&e.target.form.matches(n)&&r.validate(e.target)}function o(e){e.target.form&&e.target.form.matches(n)&&e.target.classList.contains(a.fieldClass)&&r.validate(e.target)}function u(t){t.target.matches(n)&&(t.preventDefault(),r.validateAll(t.target).then((function(e){if(0<e.length)return e[0].focus(),void c(t.target,"bouncerFormInvalid",{errors:e});a.disableSubmit||t.target.submit(),a.emitEvents&&c(t.target,"bouncerFormValid")})))}r.destroy=function(){var e,t,r;document.removeEventListener("blur",i,!0),document.removeEventListener("input",o,!1),document.removeEventListener("click",o,!1),document.removeEventListener("submit",u,!1),e=n,t=a,l(document.querySelectorAll(e),(function(e){l(e.querySelectorAll("input, select, textarea"),(function(e){h(e,t)}))})),r=n,l(document.querySelectorAll(r),(function(e){e.removeAttribute("novalidate")})),a.emitEvents&&c(document,"bouncerDestroyed",{settings:a}),a=null};var t;return a=g(v,e||{}),t=n,l(document.querySelectorAll(t),(function(e){e.setAttribute("novalidate",!0)})),document.addEventListener("blur",i,!0),document.addEventListener("input",o,!1),document.addEventListener("click",o,!1),document.addEventListener("submit",u,!1),a.emitEvents&&c(document,"bouncerInitialized",{settings:a}),r}}));